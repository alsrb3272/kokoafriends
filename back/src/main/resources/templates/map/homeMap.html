<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kakao 지도 시작</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<div id="wrapper" class="relative">
    <div id="map" class="w-screen h-screen">
    </div>
</div>
<script th:src="@{'//dapi.kakao.com/v2/maps/sdk.js?'+'appkey='+${@environment.getProperty('kakao.appkey')}+'&libraries=services'}"></script>
<!--<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkeyController=c205de53c6bf4fc05caa23f7e536c4e9"></script>-->

<script>
    var mapContainer = document.getElementById('map')
        mapOption ={
            center : new kakao.maps.LatLng(33.450701, 126.570667),
            level : 3
        }
    // 지도를 생성
    var map = new kakao.maps.Map(mapContainer, mapOption);

    // 주소-좌표 변환 객체를 생성
    var geocoder = new kakao.maps.services.Geocoder();

    // 주소로 좌표를 검색
    geocoder.addressSearch('제주특별자치도 제주시 노연로 69', function (result, status){
        if(status === kakao.maps.services.Status.OK){

            var coords = new kakao.maps.LatLng(result[0].y, result[0].x);

            // 스카이뷰 지도와 일반 지도 설정
            var mapTypeControl = new kakao.maps.MapTypeControl();
            map.addControl(mapTypeControl, kakao.maps.ControlPosition.TORIGHT);

            // 확대 축소 바 설정
            var zoomControl = new kakao.maps.ZoomControl();
            map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);
            var marker = new kakao.maps.Marker({
                map: map,
                position: coords
            });
            var infowindow = new kakao.maps.InfoWindow({
                content: `<div style="width:150px;text-align:center;padding:6px 0;">제주도_카카오프렌즈샵</div>`
            });
            infowindow.open(map, marker);

            // 지도의 중심을 결과값으로 받은 위치로 이동
            map.setCenter(coords);
        }
    });
</script>
</body>
</html>

<!--https://velog.io/@min12/spring-boot-%EA%B0%9C%EB%B0%9C-DB%EC%97%90%EC%84%9C-%EC%9B%90%ED%95%98%EB%8A%94-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B6%88%EB%9F%AC%EC%98%A4%EA%B8%B0-->